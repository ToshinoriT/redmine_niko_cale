<%
# Niko-cale plugin for Redmine
# Copyright (C) 2010  Yuki Kita
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
%>

<%= render :partial=>'header' %>

<h3><%= l(:label_niko_cale_how_do_you_feel_today) %></h3>
<% form_tag({:action=>:update, :controller=>:feelings}, {:id=>:update_feeling, :method=>:put}) do %>
   <%= hidden_field_tag 'project_id', @project.id %>
   <table border="0">
     <tr>
       <td><%= good_image(l(:label_niko_cale_good), "document.forms.update_feeling.level[0].click()") %></td>
       <td><%= ordinary_image(l(:label_niko_cale_ordinary), "document.forms.update_feeling.level[1].click()") %></td>
       <td><%= bad_image(l(:label_niko_cale_bad), "document.forms.update_feeling.level[2].click()") %></td>
     </tr>
     <tr>
       <td><p align="center"><%= radio_button_tag("level", 2, @feeling.level ? @feeling.good? : true, {:onclick=>"document.forms.update_feeling.comment.focus()"}) %></td>
       <td><p align="center"><%= radio_button_tag("level", 1, @feeling.ordinary?, {:onclick=>"document.forms.update_feeling.comment.focus()"})  %></td>
       <td><p align="center"><%= radio_button_tag("level", 0, @feeling.bad?, {:onclick=>"document.forms.update_feeling.comment.focus()"}) %></td>
     </tr>
  </table>
  <p><%= l(:label_niko_cale_comment) %><br>
  <%= text_field_tag :comment, (@feeling.comment || ""), :size=>"24"  %></p>
  <%= submit_tag l(:label_niko_cale_submit), :class => 'button-small', :name => nil %>
<% end %>
